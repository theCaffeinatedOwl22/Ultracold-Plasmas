clc, clearvars, close all

%% Get Quadrupole Magnetic Field

zRange = [-5 5];    % range of z-positions (units: mm)
pRange = [-5 5];    % range of p-positions (units: mm)
numZPts = 1000;      % number of positions to calculate field for within z-range
numPPts = 1000;      % number of positions to calculate field for within p-range
amps = 80;  % current flowing through each loop (units: A)

s = fieldForQuadrupoleConfig(zRange,pRange,numZPts,numPPts,amps);

%% Test Field Line Calculation Function

x0 = 5; % starting position along x-axis in mm
y0 = 1; % starting position along y-axis in mm
Bx = s.Bz;
By = s.Bp;
xvec = s.zInMM;
yvec = s.pInMM;
[line] = calcFieldLine(x0,y0,Bx,By,xvec,yvec);

